<div [formGroup]="orderForm" class="order-form container my-5">
  <h2>Place Order</h2>

  <label>Full Name</label>
  <input type="text" formControlName="fullName" class="form-control mb-2">
  <div *ngIf="orderForm.get('fullName')?.invalid && orderForm.get('fullName')?.touched" class="text-danger mb-2">
    Name is required.
  </div>

  <label>Email</label>
  <input type="email" formControlName="customerEmail" class="form-control mb-2">
  <div *ngIf="orderForm.get('customerEmail')?.invalid && orderForm.get('customerEmail')?.touched" class="text-danger mb-2">
    Valid email required.
  </div>

  <label>Address</label>
  <input type="text" formControlName="customerAddress" class="form-control mb-3">
  <div *ngIf="orderForm.get('customerAddress')?.invalid && orderForm.get('customerAddress')?.touched" class="text-danger mb-2">
    Address is required.
  </div>

  <div formArrayName="items" class="mb-3">
    <div *ngFor="let item of items.controls; let i = index" [formGroupName]="i" class="item-row border p-2 mb-2">
      <h5>Item {{ i + 1 }}</h5>

      <label>Product Name</label>
      <input type="text" formControlName="productName" class="form-control mb-1">

      <label>Quantity</label>
      <input type="number" formControlName="quantity" class="form-control mb-1">

      <label>Price</label>
      <input type="number" formControlName="price" class="form-control mb-1">

      <button type="button" class="btn btn-danger btn-sm mt-1" (click)="removeItem(i)" *ngIf="items.length > 1">
        Remove
      </button>
    </div>
  </div>

  <button type="button" class="btn btn-secondary mb-3" (click)="addItem()">Add Item</button>

  <h4>Total: â‚¹{{ totalAmount }}</h4>

  <!-- Payment Mode Selection -->
  <div class="mb-3">
    <label for="paymentMode" class="form-label">Payment Mode</label>
    <select id="paymentMode" class="form-select" [(ngModel)]="paymentMode">
      <option value="CASH_ON_DELIVERY">Cash on Delivery</option>
      <option value="CARD">Card</option>
      <option value="UPI">UPI</option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary w-100" (click)="onSubmit()">Place Order</button>
</div>
