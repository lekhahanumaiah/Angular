<div class="container my-5">
  <h2 class="mb-4">Shopping Cart</h2>

  <div *ngIf="cartItems.length > 0; else emptyCart">
    <div class="row">
      <div class="col-md-8">
        <div *ngFor="let item of cartItems" class="row border-bottom py-3 align-items-center">
          <!-- Product Image -->
          <div class="col-3">
            <img
              [src]="item.productImageUrl || 'assets/products/placeholder.png'"
              class="img-fluid rounded"
              alt="{{ item.productName || 'Product' }}"
              width="100"
              height="80"
              style="object-fit: contain;" />
          </div>

          <!-- Product Name & Price -->
          <div class="col-4">
            <h5>{{ item.productName }}</h5>
            <p class="text-muted">‚Çπ{{ item.productPrice | number: '1.2-2' }}</p>
          </div>

          <!-- Quantity -->
          <div class="col-2">
            Qty: {{ item.quantity }}
          </div>

          <!-- Total for Item -->
          <div class="col-2 fw-bold">
            ‚Çπ{{ (item.productPrice * item.quantity) | number: '1.2-2' }}
          </div>

          <!-- Remove Button -->
          <div class="col-1 text-end">
            <button
              class="btn btn-sm btn-danger"
              (click)="removeItem(item)"
              title="Remove item">
              üóëÔ∏è
            </button>
          </div>
        </div>
      </div>

      <!-- Cart Summary -->
      <div class="col-md-4">
        <div class="card p-3 shadow-sm">
          <h4>Subtotal ({{ getTotalItems() }} items)</h4>
          <p class="fw-bold fs-5">
            ‚Çπ{{ totalAmount | number: '1.2-2' }}
          </p>
          <button class="btn btn-primary w-100" (click)="proceedToCheckout()">
            Proceed To Checkout
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty Cart Template -->
  <ng-template #emptyCart>
    <div class="alert alert-info text-center">
      <h4>Your cart is empty.</h4>
    </div>
  </ng-template>
</div>
